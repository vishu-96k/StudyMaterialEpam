ASP .NET Core 7---
------------------------------------
-üìå‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖüìåCH :05 MODLESüìå‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖüìå: FOR CH NAME (Green Col Pen for ch Name)
- : FOR HASHTAG POINTS (HashTag)
-üìå: FOR POINTS (Black pens)
-üîÑ: for eg
-üóÇ: for files and folders
-üëá Code:
-üì¶ : Keywords definition
-üìåüìåNOTEüìåüìå : for imp note

-FOR NEW HASHTAG (‚úÖ[#1])
--------‚úÖ[#2]. AddControllers() method----


------------------------------------
========CH CLOSEING SYMBOL==========
------------------------------------

üìå‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖüìåCH :CONFIGURAING DEFALUT PAGEüìå‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖ‚úÖüìå

‚úÖ[#1]Key Concept: How to Make index.html the Default Page:

üìåCREATE ASP .NET APP
-STEPS :
-create asp .net application
-Add wwwroot folder.
-Add a index.html file in that folder
now we want that when we run the applic autonatomatically the page should get open.
-ASP.NET Core doesn‚Äôt serve index.html by default unless you add one more middleware: app.UseDefaultFiles(); // Enables default page matching
-Suppose we remove index.html from the URL or navigate to the base URL. In that case, the Terminal Middleware component will handle the request, which is registered using the Run Extension method. The Run Extension method will serve the default request, as shown in the image below. It will show what uh ave writtrn in the "Terminal Middleware " that is : 
üóÇ Program.cs
üëá Code:
app.Run(async (context) =>
            {
                await context.Response.WriteAsync("Request Handled and Response Generated");
            });


-But we want our index.html page to serve the request when we navigate to the base URL, as shown above. We need to set this page as our default page.

üìåUseDefaultFiles() MIDDLEWERE:
UseDefaultFiles() looks for default filenames like:
index.html
default.html
index.htm
default.htm

If it finds any of them in wwwroot, it automatically rewrites / to /index.html internally.
-So using this middlewere automatically uh will get directed to the index page, even if uh just open the appliaton.

üóÇ Program.cs
üëá Code:
// Define the namespace for the application. This is a user-defined logical grouping of classes.
namespace FirstCoreWebApplication
{
    // The entry point class of the application.
    public class Program
    {
        // Main method - the entry point of the .NET application.
        // 'args' can contain command-line arguments passed during application start.
        public static void Main(string[] args)
        {
            // -------------------------------
            // Step 1: Create a WebApplicationBuilder
            // -------------------------------

            // WebApplication.CreateBuilder(args) is a static method provided by the class 'WebApplication'
            // in the 'Microsoft.AspNetCore.Builder' namespace.
            // It sets up the default configuration, dependency injection, and logging providers.
            var builder = WebApplication.CreateBuilder(args);

            // -------------------------------
            // Step 2: Build the WebApplication
            // -------------------------------

            // builder.Build() finalizes the setup and returns a 'WebApplication' object.
            // This object is used to configure the HTTP request pipeline and run the app.
            var app = builder.Build();

            // -------------------------------
            // Step 3: Middleware - Serve Default Files
            // -------------------------------

            // app.UseDefaultFiles() is a middleware that looks for default file names
            // like index.html, default.html, etc., in the 'wwwroot' folder.
            // If found, it rewrites the URL to that file (e.g., "/" to "/index.html").
            // This method comes from the class 'DefaultFilesMiddleware' in 'Microsoft.AspNetCore.Builder'.
            app.UseDefaultFiles();

            // -------------------------------
            // Step 4: Middleware - Serve Static Files
            // -------------------------------

            // app.UseStaticFiles() is middleware that serves static files (like .html, .css, .js, images, etc.)
            // from the 'wwwroot' folder (by default).
            // It processes the rewritten request (like "/index.html") and serves the corresponding file.
            // Comes from 'StaticFileMiddleware' in 'Microsoft.AspNetCore.StaticFiles' namespace.
            app.UseStaticFiles();

            // -------------------------------
            // Step 5: Terminal Middleware - Custom Response
            // -------------------------------

            // app.Run(...) adds a terminal middleware to the HTTP request pipeline.
            // Terminal middleware means no other middleware will be executed after this.
            // It handles any request that reaches this point and writes a plain text response.
            //
            // The 'context' parameter is of type HttpContext (from Microsoft.AspNetCore.Http),
            // which represents all HTTP-specific information about an individual HTTP request.
            //
            // context.Response.WriteAsync(...) writes a text response to the client asynchronously.
            app.Run(async (context) =>
            {
                // Send a plain text response to the browser if no static/default file matched.
                await context.Response.WriteAsync("Request Handled and Response Generated");
            });

            // -------------------------------
            // Step 6: Run the Application
            // -------------------------------

            // NOTE: ‚ùå This line is redundant and unreachable because `app.Run(...)` above is terminal middleware
            // and never returns. This second call to app.Run() will never be executed.
            //
            // app.Run() is used to start the application and begin listening for HTTP requests.
            // It blocks the main thread and keeps the app running.
            app.Run();
        }
    }
}

OUTPUT :
Now when you go to: http://localhost:<port>/
-‚û°Ô∏è ASP.NET Core will serve index.html automatically.

Note: You need to add the UseDefaultFiles() middleware before the UseStaticFiles() middleware to serve the default file. Remember that the UseDefaultFiles() middleware is just a URL rewriter, and it never serves static files. Its job is to simply rewrite the incoming URL to the default file, which will then be served by the Static Files Middleware.

üìò Summary of Middleware Components
| Middleware              | Purpose                                                                                                   |
| ----------------------- | --------------------------------------------------------------------------------------------------------- |
| `UseStaticFiles()`      | Serves static files like CSS, JS, images, HTML from `wwwroot`                                             |
| `UseDefaultFiles()`     | Maps default request `/` to a file like `index.html`                                                      |
| `UseDirectoryBrowser()` | Shows a list of files in a folder (not recommended in production)                                         |
| `UseFileServer()`       | Combines all three: `UseStaticFiles() + UseDefaultFiles() + UseDirectoryBrowser()` (you can customize it) |


‚úÖ[#2] HOW TO SET CUSTOM PAGE AS DEFALUT PAGE

üìåStep-by-Step: How to Set MyCustomPage1.html as the Default Page
step 1 :Place your custom HTML file (e.g., MyCustomPage1.html) inside the wwwroot folder.
step 2 :By default, the framework looks for index.html, default.html, etc. You need to override this default behavior.

üîß Modify Program.cs like this:
// Required namespaces
using Microsoft.AspNetCore.Builder; // Contains extension methods like UseStaticFiles and UseDefaultFiles
using Microsoft.AspNetCore.Hosting; // Provides hosting environment classes
using Microsoft.Extensions.Hosting; // For IHostEnvironment and application lifecycle

// -------------------------
// Step 1: Create the WebApplication
// -------------------------

var builder = WebApplication.CreateBuilder(); // Create builder with default options
var app = builder.Build(); // Build the app (creates the middleware pipeline and host)

// -------------------------
// Step 2: Configure DefaultFilesOptions
// -------------------------

// DefaultFilesOptions is a class from Microsoft.AspNetCore.Builder namespace
// It configures how the UseDefaultFiles middleware behaves (which default files to look for)
DefaultFilesOptions defaultFilesOptions = new DefaultFilesOptions();

// This clears the default file names list, which by default contains:
// "index.html", "default.html", "index.htm", and "default.htm"
defaultFilesOptions.DefaultFileNames.Clear(); // Remove existing default file names

// Add a custom default file name to the list
// Now it will look for "MyCustomPage1.html" in the static files folder (e.g., wwwroot or custom folder)
defaultFilesOptions.DefaultFileNames.Add("MyCustomPage1.html");

// -------------------------
// Step 3: Add Middleware to the Pipeline
// -------------------------

// This middleware looks for the default file name(s) specified above
// It doesn't serve the file itself but changes the request path (e.g., "/" to "/MyCustomPage1.html")
// It must be placed before UseStaticFiles in the middleware pipeline
app.UseDefaultFiles(defaultFilesOptions);

// UseStaticFiles middleware is responsible for actually serving the static files
// This will look for physical files (e.g., HTML, CSS, JS) in the default folder "wwwroot" (or custom web root if specified)
app.UseStaticFiles();

// -------------------------
// Step 4: Run the App
// -------------------------

// Starts the web application
// This begins listening for HTTP requests using the Kestrel web server
app.Run();


-So now, when someone visits the root URL, they'll see MyCustomPage1.html.


üìåUseFileServer ‚Äì The All-in-One Middleware
If you don‚Äôt want to call UseStaticFiles(), UseDefaultFiles(), and UseDirectoryBrowser() separately, there's a shortcut:
EG:
app.UseFileServer();
This one line:
Serves static files
Serves default files (like index.html)
Enables directory browsing (optional)

üîç Summary: When to Use What?
| Middleware              | What it Does                                         | When to Use It                                                                                  |
| ----------------------- | ---------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| `UseStaticFiles()`      | Serves static content like `.html`, `.css`, `.js`    | When you only want to serve static files                                                        |
| `UseDefaultFiles()`     | Automatically serves default files like `index.html` | Must be followed by `UseStaticFiles()`                                                          |
| `UseDirectoryBrowser()` | Shows a list of files/folders in the browser         | For dev/debugging or internal apps                                                              |
| `UseFileServer()`       | Combines all three above                             | Use it if you want static file serving, default file support, and optionally directory browsing |


üìåConclusion
This article teaches how to control which HTML page appears by default and how to show or hide directory listings in an ASP.NET Core web application.
Use UseStaticFiles and UseDefaultFiles together to serve custom default HTML.
Use UseDirectoryBrowser to allow folder browsing.
Use UseFileServer to do everything in one step.
Be careful about using directory browsing in production due to security concerns.

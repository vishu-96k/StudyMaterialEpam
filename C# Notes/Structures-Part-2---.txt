Structures-Part-2---

âœ…[#1] STRUCT in C# â€“ Key Points

ğŸ“Œ 1. Memory & Type
-struct is a Value Type â†’ memory is allocated on the stack.
-Memory allocation for struct instances/variables happens on the stack, not on the heap.
-Structs are often described as â€œlightweight classesâ€.
-Best suited for smaller volumes of data.
-All primitive value types (e.g., int, double, bool) are actually structs internally.


ğŸ“Œ 2. Instance Creation
Using the new keyword is optional for creating struct instances.
-If new is used â†’ the implicit default constructor initializes all fields to their default values (0, null, etc.).
-If new is not used, then you must initialize all fields manually before calling any methods.
EG :
struct Emp
{
    public int i;
    public void Display() => Console.WriteLine("i = " + i);
}
Emp e1 = new Emp();   // âœ… new keyword used â†’ default constructor called
e1.i = 10;
e1.Display();
Emp e2;               // âŒ no new keyword
e2.i = 20;            // âœ… manual initialization required
e2.Display();


ğŸ“Œ 3. Field Initialization
-âŒ You cannot initialize fields directly at the point of declaration inside a struct.
EG :
struct Emp
{
    int i = 10;  // âŒ Not allowed
}
-Instead, assign values using:
A parameterized constructor, or
Directly through the instance after creation.


ğŸ“Œ 4. Constructors
Parameterless (default) constructor:
Always implicitly provided by the compiler.
âŒ Cannot be explicitly declared in a struct.

Parameterized constructor:
âœ… Allowed explicitly.
Used to initialize fields during object creation.

Constructor behavior difference:
 Class: If no constructor is defined â†’ 1 default constructor is generated.
If you define n constructors â†’ total = n.
 Struct: If no constructor is defined â†’ 1 default constructor is always there (implicit).
If you define n parameterized constructors â†’ total = n + 1 (because default constructor always exists implicitly).
EG :
struct Emp
{
    public int i;
    public Emp(int val)
    {
        i = val;
    }
}
Emp e = new Emp(10);  // Calls parameterized constructor


ğŸ“Œ 5. Inheritance & Access Modifiers
âŒ Inheritance is not supported for structs (struct cannot inherit another struct or class).
âœ… However, struct can implement interfaces.
âŒ protected modifier is not allowed inside structs.

Default access modifiers:
private for fields, properties, methods, constructors, enums, delegates.
âœ… So, if you want to access them outside, explicitly make them public.


ğŸ“Œ 6. OOP Concept Support
âŒ Struct does not support full OOP because inheritance is not allowed.
âœ… But it can support:
Abstraction â†’ by implementing interfaces
Encapsulation â†’ by using private and public access modifiers
Polymorphism â†’ by overriding interface methods

âŒ No destructors in struct â€” because they are stored on the stack and cleaned up automatically.


ğŸ“Œ7. Practical Usage
Structs are best used for:
Lightweight objects
Fixed-size data (e.g., Point, Color, Rectangle)
Scenarios where value semantics are preferred over reference semantics

Classes are better for:
Complex objects
Large data sets
Inheritance and polymorphism-heavy scenarios


ğŸ“Œ8. Rules for Properties in Structs
Structs can have properties just like classes.

-Properties can be:
Auto-implemented
Custom with getters and setters

-Properties can have any access modifier (public, private, etc.), but protected is not allowed.
-You cannot initialize auto-properties at declaration in structs before C# 10. (From C# 10, you can have default values in structs.)
-Structs cannot have parameterless constructors explicitly, so any property initialization relying on a constructor must use a parameterized constructor.

EG :
using System;

struct EmployeeStruct
{
    // âœ… Auto-implemented properties
    public int Id { get; set; }
    public string Name { get; set; }

    // âœ… Parameterized constructor to initialize properties
    public EmployeeStruct(int id, string name)
    {
        Id = id;
        Name = name;
    }

    // âœ… Method using properties
    public void Display()
    {
        Console.WriteLine($"Id: {Id}, Name: {Name}");
    }
}

class Program
{
    static void Main()
    {
        // Using parameterized constructor
        EmployeeStruct emp1 = new EmployeeStruct(101, "Alice");
        emp1.Display();

        // Without 'new', must assign property values manually
        EmployeeStruct emp2;
        emp2.Id = 202;
        emp2.Name = "Bob";
        emp2.Display();
    }
}

MVC5---
------------------------------------
-ğŸ“Œâœ…âœ…ğŸ“Œ: FOR CH NAME (Green Col Pen for ch Name)
-âœ…[#1] : FOR HASHTAG POINTS (HashTag)
-ğŸ“Œ: FOR POINTS (Black pens)
-ğŸ”„: for eg

-FOR NEW HASHTAG (âœ…[#1])
--------âœ…[#2]. AddControllers() method----

------------------------------------
========CH CLOSEING SYMBOL==========
------------------------------------


ğŸ“Œâœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…ğŸ“ŒCH :04 CONTROLLERSğŸ“Œâœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…ğŸ“Œ


âœ…[#1] CONTROLLERS

ğŸ“ŒWhat is a Controller Class
-Controller is an abstract class having many methods (Json, View, PartialView, OnActionExecuting, ViewComponent, etc.) and properties (TempData, ViewBag, ViewData, etc.).
-A Controller is a special class in the ASP.NET Core Application with .cs (for C# language) extension.
-All teh controllers uh make, the controller class must be inherited from the Controller base class.
-this Controller base class, Provides many Methods() to handle the HTTP req and produce a responce.
-It provides Action Result Methods, Model State Management, Validation, TempData, ViewBag, ViewData, etc
-A controller is a class that:
Inherits from the Controller base class.
Contains action methods that respond to HTTP requests.
Interacts with models to retrieve or update data.
Selects views to render HTML or returns data directly.
-Controllers in the MVC Design Pattern handle the incoming HTTP Request, work with the model, and select a view to render.
-Controller is a .cs file only, Which uh can add as template
-The Controller name should be suffixed with the word Controller. EG StudentController

ğŸ“ŒWORKING :
-When client(browser ) makes the req to server, The req goes through the request processing pipeline ( MiddleWere Componenet registered into the pipeline), It will hit the Controlle, Inside the controller there are lots of methods(called Action methods) that handle the http req.
-ACTION METHOD : the methdos inside the Controller are called action methods, The action method inside executes the business logic and prepares the response and sends back to browser.

ğŸ“ŒADDING CONTROLLER 
-Uh can Right click and add the Controller, Using template.
-Three Templates are there for Creating MVC controller
1)MVC Controller â€“ Empty: It will create an Empty Controller.
ğŸ”¹ What it does:
Creates only an empty controller class.
No predefined actions (like Index, Create, Edit, etc.).
Ideal when you want full control and plan to write everything manually.
ğŸ“„ Example:
public class ProductController : Controller
{
    // You write your own methods like:
    public IActionResult Index()
    {
        return View();
    }

    public IActionResult Details(int id)
    {
        // logic
        return View();
    }
}

Use Case:
When your controller logic is custom or doesnâ€™t follow the typical CRUD pattern.
When you want to learn MVC by doing everything manually.

2)MVC Controller with read/write actions: This template will create the controller with five action methods to create, read, update, delete, and list entities.
ğŸ”¹ What it does:
Automatically generates basic CRUD actions (Create, Read, Update, Delete) in the controller.
But does not generate any views or Entity Framework code.
ğŸ“„ Example:
public class ProductController : Controller
{
    public IActionResult Index() { /* List items */ return View(); }
    public IActionResult Details(int id) { /* Get item */ return View(); }
    public IActionResult Create() { return View(); }
    [HttpPost] public IActionResult Create(Product product) { /* Save item */ return RedirectToAction("Index"); }
    public IActionResult Edit(int id) { return View(); }
    [HttpPost] public IActionResult Edit(Product product) { /* Update item */ return RedirectToAction("Index"); }
    public IActionResult Delete(int id) { return View(); }
    [HttpPost] public IActionResult DeleteConfirmed(int id) { /* Delete item */ return RedirectToAction("Index"); }
}
ğŸ§  Real-Life Analogy:
Like buying a prefab house structure â€” you get the walls, doors, and roof installed. But you have to decorate the interiors and connect utilities (e.g., plumbing = database).

 Use Case:
When you want basic CRUD structure quickly.
Youâ€™ll create your own views manually.
Youâ€™ll connect your own database logic later (e.g., using ADO.NET or EF manually).

3)MVC Controller with views, using Entity Framework: This template will create an MVC Controller with actions and Razor views to create, read, update, delete, and list entities using Entity Framework.
ğŸ”¹ What it does:
Generates a fully working CRUD controller + Razor Views + Entity Framework integration.
Based on a model class and DbContext you specify.
Auto-wires data access using EF and scaffolds UI with Razor.

ğŸ“„ Example:
If you have a model:
public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal Price { get; set; }
}

And a DbContext:
public class AppDbContext : DbContext
{
    public DbSet<Product> Products { get; set; }
}

This template will generate:
A ProductController with EF code to get/set data.
Razor Views: Index.cshtml, Create.cshtml, Edit.cshtml, etc.

ğŸ§  Real-Life Analogy:
Like buying a fully furnished apartment â€” rooms, lights, appliances, and plumbing are all done. You can move in and start using it immediately.

Use Case:
When you want a rapid prototype or admin interface.
You want minimal coding â€” it scaffolds everything.
Great for beginners or internal admin tools.

ğŸ“ŒSummary Comparison Table
Template Type	What It Creates	Best For	Analogy
MVC Controller â€“ Empty	Just the controller class	Full control, custom apps	Empty plot of land
MVC Controller with read/write actions	Controller with CRUD actions (no views)	Manual view/db work with scaffolded actions	Prefab house shell
MVC Controller with views, using EF	Controller + Views + EF code	Fast prototyping and data-driven interfaces	Fully furnished apartment

---------------------âœ…[#2]UNDERSTANDING StudentController----------------

âœ…[#2]UNDERSTANDING StudentController

ğŸ—‚ Example: StudentController.cs file

// Importing the ASP.NET Core MVC namespace
// This allows access to core MVC classes like Controller, IActionResult, View(), etc.
using Microsoft.AspNetCore.Mvc;

namespace FirstCoreMVCWebApplication.Controllers
{
    // StudentController is a controller class.
    // It inherits from Controller, the base class provided by ASP.NET Core MVC.
    public class StudentController : Controller
    {
        // Index() is an action method that handles HTTP GET requests to /Student or /Student/Index
        // IActionResult is the return type that represents various types of HTTP responses.
        public IActionResult Index()//This is the Action method.
        {
            // This tells MVC to render a Razor View named "Index.cshtml"
            // located at Views/Student/Index.cshtml
            return View();
        }
	public string GetAllStudents() //uh can also return something from the action method
        {
            return "Return All Students";
        }
    }
}

-public IActionResult Index() method:
Defines an action method named Index.
IActionResult is a flexible return type â€” it can return:
A view (View())
A redirect (RedirectToAction())
JSON (Json())
Status codes, files, etc.

ğŸ§  In MVC, a URL maps to a controller and an action.
So, this method handles requests to:
https://yourdomain.com/Student
or
https://yourdomain.com/Student/Index

ğŸ“ŒWhat are Action Methods?
-All the public methods of a controller class are known as Action Methods.
-Adding a student, deleting a studne, all these are actions, and uh need to make all these methdos for doing specific job
EG : " public IActionResult Index()" is a type of action method.

ğŸ“ŒHow Do We Call an Action Method of a Controller?
-Action methods of Controller are automatically called when URL including them hits.
-When our application receives an HTTP Request, the controller action method handles it. So, when we say we are hitting a controller, we are hitting its action method. The default structure is: 

"http:domain.com/ControllerName/ActionMethodName"   //IMP

-This URL will hit the specific action method Present in the URL
-So whenever the Req will come the specific action method will be executed.

EG : visit http://localhost:<portnumber>/student/GetAllStudents link and uh will get "return all students"

-Using the Below code, uh can make a website which will show "RETURN ALL STUDENTS", When uh visit the URL "  visit http://localhost:<portnumber>/student/GetAllStudents ".

ğŸ—‚CODE :Program.cs File
namespace FirstCoreMVCWebApplication
{
    public class Program
    {
        public static void Main(string[] args)
        {
            // Create a WebApplication builder, which provides various configuration settings
            // and services for the web application
            var builder = WebApplication.CreateBuilder(args);

            // Add MVC services to the service container.
            // This includes support for controllers and views.
            builder.Services.AddMvc();

            // Build the application using the configured builder
            var app = builder.Build();

            // Enable routing middleware, which matches incoming HTTP requests to endpoints defined in the application
            app.UseRouting();

            // Map the default controller route (convention: {controller=Home}/{action=Index}/{id?}), Uh can also use the aap.MapDefalutController() 
            // This means if no specific route is provided, it will default to HomeController and Index action, Uh can even change the Route, by modifying the default implementation of the function, By going to its definition uh will see the route there, So uh can change the route and make it to route to the Custom URL which uh want.
            app.MapControllerRoute(
                name: "default", // Name of the route
                pattern: "{controller=Home}/{action=Index}/{id?}" // URL pattern for the route
            );

            // Run the application, which blocks the calling thread and starts listening for incoming HTTP requests
            app.Run();
        }
    }
}

ğŸ—‚Controllers/StuentController.cs file
Pubic class StudentContoller : Controller
{
	public string GetAllStudents()//This is Action method
	{
		return "RETURN ALL STUDENTS"
	}
}
//This action method will get invoke when the URL hits as "http://localhost:<portnumber>/student/GetAllStudents"

OUTPUT :
RETUEN ALL STUNDETS

ğŸ“ŒHow to Pass Parameters in Action Methods?
-An Action Method in ASP.NET Core MVC is a method inside a Controller that handles HTTP requests. Sometimes, you want to send data to an action methodâ€”for example, search criteria, IDs, names, or filter values.
ğŸ§ª Example Scenario:
We want to search students by their name.
So we create an action method in the StudentController:

public class StudentController : Controller
{
    public string GetStudentsByName(string name) //This is the action method which takes name as the paremeter, So what will happen is that the parameter will be takne in as the "Query String".
    {
        return $"Return All Students with Name : {name}";
    }
}
ğŸ§© How is the Parameter Passed?
-To pass the name parameter to the GetStudentsByName action, you use a Query String.
URL Example:http://localhost:<port>/student/GetStudentsByName?name=james
ğŸ” Breakdown of the URL:
http://localhost:<port> â†’ The base URL where your application is hosted.
/student â†’ The controller name (StudentController â†’ student).
/GetStudentsByName â†’ The action method name.
?name=james â†’ Query string parameter: name is the parameter, and james is the value.

ğŸŒ Query String Parameters:
The part after the ? in the URL is called a Query String. It passes data as key-value pairs:
SYNTAX  : ?key=value
You can pass multiple parameters like this:
SYNTAX : ?name=james&age=21

-ASP.NET Core uses Model Binding to automatically map these query string parameters to method parameters.

ğŸ”„ What is Model Binding?
Model Binding is a process in ASP.NET Core MVC that:
Reads the data from HTTP requests (query strings, form data, route data, etc.)
Converts the data to .NET types
Assigns the values to action method parameters

ğŸ”„ In our example:
When the request is made to: http://localhost:<port>/student/GetStudentsByName?name=james
ASP.NET Core looks for a query string parameter named name
Finds name=james
Binds it to the method parameter string name
The method executes and returns:


ğŸ“Œ Example 1: Multiple Parameters
public string GetStudentDetails(string name, int age)
{
    return $"Student Name: {name}, Age: {age}";
}
URL:http://localhost:<port>/student/GetStudentDetails?name=james&age=21

ğŸ“Œ Example 2: Optional Parameters (with Default Values)
public string GetStudentInfo(string name = "Unknown")
{
    return $"Student Name: {name}";
}
URL:http://localhost:<port>/student/GetStudentInfo

ğŸ“Œ1. Route Parameters (e.g., /student/details/james)
-In this we will send the Paramter inside the URL route only, by adding a attribute 
EG 
[Route("student/details/{name}")]
public string Details(string name)
{
    return $"Details of student: {name}";
}
URL:http://localhost:<port>/student/details/james

ğŸ“Œ2. Form Parameters (POST requests)
[HttpPost]
public string SubmitForm(string name)
{
    return $"Form submitted for: {name}";
}
//You'd use an HTML form to send a POST request with form data:
<form method="post" action="/student/submitform">
    <input type="text" name="name" />
    <input type="submit" />
</form>

ğŸ“Œ3. FromBody / FromQuery / FromRoute Attributes
You can explicitly tell ASP.NET Core where to look for the value.

public string GetByQuery([FromQuery] string name) { ... }
public string GetByRoute([FromRoute] string name) { ... }
public string GetFromBody([FromBody] Student student) { ... }


----------------âœ…[#3]CONTROLLER INSTANCE -----------------------------

âœ…[#3]CONTROLLER INSTANCE

ğŸ“ŒHow is Controller Instance Created
-Whenever uh need to define new set of action methods for that uh need to make a new controller with similar action method, Becoz the URL Routes will be basend on the Controller/ActionMethods+paramters.
-For example, to do operations of students, we can create a Student Controller. To manage the security of your application, like login, logout, etc., you can create a Security Controller.
-now uh can see that Controller is a class, And the action method is the Instance method of that class, So to invoke the Action method of the Controller uh need the instane of that class, So who how and when did Created the instance of the class?
-For Creating the MVC application we need "MVC Services and Middleware" Components into the Request Processing Pipeline(Which is in the Program.cs Main method)	

ğŸ§± 1. Registering MVC Services
EG : Adding the MVC Services using following code 
var builder = WebApplication.CreateBuilder(args);
//Adding MVC Services to the container
builder.Services.AddControllerWithViews(); //// Register MVC services
Builder.Services.AddMvc();

-After this we need to Configure MVC middleWere into the request processing pipeline, Following code will add the MVC MiddleWere

ğŸ§± 2. Registering MiddleWeres
EG : Adding the MVC middleWere
var app =builder.Build();
app.UseRouting();// Add MVC middleware to the request pipeline
app.MapControllerRoute()//this function will configure the ENd Points for the Controller action methods, so that The URL and the action methods will map toghteher as the URL route.

-So in MVC application the MVC MiddleWere Component receives an HTTP request when clients sends the request, based on routing the controller and the action method is executed.
-So to execute the Action method, MVC middle were must create the instance of the Selected controller class. So The MVC middlewere uses the "REFLECTION" concept for creating the instance of the controller class
-The controller instance is created dynamically, not manually, using Reflection and Dependency Injection (DI).

ğŸ“ŒREFLECTION : So the MVC middle were uses the "Reflection", Which is a concept using which uh can use the meta data of the .dll files, and also uh can make the intcanes of the classes whicha re presnt in these .dll(preCompiled) files.
-the MVC middleWere uses the "IControllerActivator class" for creating  the instance using "Reflection".

ğŸ“ŒIControllerActivator INTERFACE : This interface has 3 methods :

1. object Create(ControllerContext context)
this method Creates a controller instance using info from ControllerContext,  The ControllerContext parameter provides contextual information about the current request and the controller being created. The method returns an instance of the controller.
Uses Reflection or Dependency Injection (DI) to create the object

2. void Release(ControllerContext context, object controller)
-This method is responsible for releasing a controller instance and providing a way to perform any necessary cleanup or disposal of the controller
Called to release or clean up the controller after it finishes processing
If controller implements IDisposable, this is where Dispose() is called
- This object parameter is the instance of the controller that needs to be released. This method does not return a value.
-This method is called by the ASP.NET Core framework to release a controller instance after it has been used.

3. ValueTask ReleaseAsync(ControllerContext context, object controller)
Same as above, but asynchronous, useful for async cleanup
-This method is responsible for asynchronously releasing a controller instance.
-The ASP.NET Core framework calls this method to release a controller instance after it has been used asynchronously.


Imagine a client hits the URL :http://localhost:5000/student/details/1
-Hereâ€™s what happens:
The MVC middleware matches the route to the StudentController, action Details, and id = 1.
-And now the MVC middle Were will create the instance of the controller class and call the action method, all this happens using the "Reflection" Concept.


MVC17---
-ğŸ“Œâœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…ğŸ“ŒCH :05 MODLESğŸ“Œâœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…ğŸ“Œ: FOR CH NAME (Green Col Pen for ch Name)
- : FOR HASHTAG POINTS (HashTag)
-ğŸ“Œ: FOR POINTS (Black pens)
-ğŸ”„: for eg
-ğŸ—‚: for files and folders
-ğŸ‘‡ Code:
-ğŸ“¦ : Keywords definition
-ğŸ“ŒğŸ“ŒNOTEğŸ“ŒğŸ“Œ : for imp note

-FOR NEW HASHTAG (âœ…[#1])
--------âœ…[#2]. AddControllers() method----


------------------------------------
========CH CLOSEING SYMBOL==========
------------------------------------


ğŸ“Œâœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…ğŸ“ŒCH : AJAXğŸ“Œâœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…ğŸ“Œ

âœ…[#1] WHAT IS AJAX 

ğŸ“Œ What is AJAX?
AJAX stands for Asynchronous JavaScript and XML.
It's a technique that allows a web page to communicate with the server without reloading the whole page.
-It's a web development technique used to send and receive data from a server without reloading the entire web page.

-What Does AJAX Do?
AJAX allows a web page to:
Send data to the server in the background
Receive a response from the server
Update only changed part of the web page dynamically not the whole page, Like Virtual DOM manipulation.

-Think of it like ordering food in a restaurant using a tablet:
You tap your order (JavaScript sends request)
The kitchen (server) prepares it
The dish arrives at your table without refreshing the entire restaurant (just part of the page updates)

ğŸ“ŒAJAX in ASP.NET MVC
In ASP.NET MVC, AJAX is commonly used to:
Submit forms without refreshing the page.
Fetch and update data dynamically.
Load partial views (sections of a page) asynchronously.

- Ways to Use AJAX in ASP.NET MVC
There are 3 primary ways to use AJAX in ASP.NET MVC:
1. Using jQuery AJAX
This is the most flexible and powerful way.
2. Using AJAX Helpers (Ajax.BeginForm)
ASP.NET MVC provides built-in AJAX helpers that integrate with jQuery Unobtrusive AJAX.
3. Using Fetch API (modern JS)
An alternative to jQuery, used in modern JS apps.

âœ…[#2] EXAMPLE OF AJAX APPLICATION
 
ğŸ“Œ Example Application: Submit a Form with AJAX
ğŸ§¾ Scenario:
-Create a web form to submit student data using the Fetch API (AJAX) and display the result on the same page â€” without reloading.
-We have a form to add a student. We want to submit it using AJAX and display the result on the same page.

ğŸ—‚: 
ğŸ‘‡ Code:
ğŸ—‚Folder structure (basic)
/YourMvcProject
â”‚
â”œâ”€â”€ /Controllers
â”‚     â””â”€â”€ StudentController.cs
â”‚
â”œâ”€â”€ /Models
â”‚     â””â”€â”€ Student.cs
â”‚
â”œâ”€â”€ /Views
â”‚     â”œâ”€â”€ /Student
â”‚     â”‚     â”œâ”€â”€ AddStudent.cshtml      (Main view with form)
â”‚     â”‚     â”œâ”€â”€ _StudentList.cshtml    (Partial view for student list)
â”‚     â””â”€â”€ /Shared
â”‚           â””â”€â”€ _Layout.cshtml
â”‚
â”œâ”€â”€ /Scripts
â”‚     â””â”€â”€ (optional, for other JS files)
â”‚
â””â”€â”€ Web.config / other config files


Step 1: Create the Student Model
ğŸ—‚Modles/Student.cs
ğŸ‘‡ Code:
// Models/Student.cs
public class Student
{
    public string Name { get; set; }
    public int Age { get; set; }
}

Step 2: Create the StudentController
ğŸ—‚Controller/studentConrtroller.cs
ğŸ‘‡ Code:
using System.Collections.Generic;
using System.Web.Mvc;
using YourMvcProject.Models;

public class StudentController : Controller
{
    // GET: /Student/AddStudent
    public ActionResult AddStudent()
    {
        return View();
    }

    // POST: /Student/AddStudent
    [HttpPost]
    public JsonResult AddStudent(Student model)
    {
        if (ModelState.IsValid)
        {
            // Here you would normally save to DB, but we simulate success
            return Json(new { success = true, message = "Student added successfully!" });
        }

        return Json(new { success = false, message = "Validation failed!" });
    }

    // GET: /Student/GetStudents
    public ActionResult GetStudents()
    {
        // Sample data for demonstration
        var students = new List<Student>
        {
            new Student { Name = "Amit", Age = 20 },
            new Student { Name = "Sneha", Age = 22 }
        };

        return PartialView("_StudentList", students);
    }
}

Step 3: Create the main view with form and buttons
ğŸ—‚ Views/Student/AddStudent.cshtml
ğŸ‘‡ Code:
@model YourMvcProject.Models.Student

<h2>Add Student (AJAX Form Submission)</h2>

<form id="studentForm">
    Name: <input type="text" name="Name" required /><br />
    Age: <input type="number" name="Age" required /><br />
    <button type="submit">Submit</button>
</form>

<div id="result"></div>

<hr />

<h2>Load Students List (AJAX Partial Load)</h2>
<button id="loadBtn">Load Students</button>
<div id="studentList"></div>

<script>
    // Handle form submission via AJAX (Fetch API)
    document.getElementById("studentForm").addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent default form submit (page reload)

        const formData = new FormData(this);

        fetch("/Student/AddStudent", {
            method: "POST",
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            // Show success or error message
            document.getElementById("result").innerHTML = data.success
                ? `<span style="color:green">${data.message}</span>`
                : `<span style="color:red">${data.message}</span>`;
        })
        .catch(err => {
            document.getElementById("result").innerHTML = `<span style="color:red">Error: ${err}</span>`;
        });
    });

    // Load partial view with AJAX on button click
    document.getElementById("loadBtn").addEventListener("click", function () {
        fetch("/Student/GetStudents")
            .then(response => {
                if (!response.ok) throw new Error('Network response was not ok');
                return response.text();
            })
            .then(html => {
                // Inject partial HTML into the div
                document.getElementById("studentList").innerHTML = html;
            })
            .catch(err => {
                document.getElementById("studentList").innerHTML = `<span style="color:red">Error loading students: ${err}</span>`;
            });
    });
</script>

Step 4: Create the Partial View for the student list
ğŸ—‚ Views/Student/_StudentList.cshtml
ğŸ‘‡ Code:
@model List<YourMvcProject.Models.Student>

<ul>
    @foreach (var student in Model)
    {
        <li>@student.Name - @student.Age years old</li>
    }
</ul>


ğŸ—‚Step 5: Run and Test
Navigate to /Student/AddStudent
Fill the form and submit â†’ see message without page reload
Click "Load Students" â†’ student list loads dynamically without page reload

Explanation Recap:
| Feature         | How it works                                                                                      |
| --------------- | ------------------------------------------------------------------------------------------------- |
| Form Submission | Using `fetch()` to POST form data and get JSON response, then update the page message dynamically |
| Partial Loading | Using `fetch()` to GET partial HTML and inject it into a div on the page                          |


Key Concepts to Remember
AJAX = no full page reload.
You can return JSON or HTML Partial Views.
Use JavaScript (jQuery/Fetch) or MVC AJAX Helpers to trigger AJAX calls.
Always handle success and error cases in the response.


ğŸ“Œâœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…ğŸ“ŒCH : API INTEGRATIONğŸ“Œâœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…ğŸ“Œ

âœ…[#1] API 

ğŸ“ŒğŸ“ŒNOTEğŸ“ŒğŸ“Œ
-So in simple words, API is noth but the riutes we create , and the logic we write to respond any http req which comes on that route?

ğŸ“ŒWhat is an API?
In simple words:
An API is like a set of routes/endpoints in your application.
Each route is linked to some logic (code) that processes the incoming request and sends back a response.
The API defines how clients (like browsers, apps) can interact with your server by specifying:
What URLs to call (routes)
What HTTP methods to use (GET, POST, PUT, DELETE)
What data to send and receive
So yes â€” the API = the routes + the logic to handle requests and respond.
This is exactly how RESTful web APIs work in ASP.NET Core or any other backend framework.

API stands for Application Programming Interface.
An API is a set of rules and protocols that allows one software application to talk to another.
It defines how different software components should interact.
APIs allow developers to use functionalities or data from other applications, services, or platforms without knowing their internal details.

ğŸ“ŒEXMAPLE:
Imagine you have an API with a route /api/greet that responds to a GET request by sending a greeting message.

-Step 1: Define the API Route and Logic (in ASP.NET Core)
ğŸ‘‡ Code:
[ApiController]
[Route("api/[controller]")]
public class GreetController : ControllerBase
{
    // GET api/greet
    [HttpGet]
    public IActionResult GetGreeting()
    {
        // Logic: return a greeting message
        return Ok("Hello! Welcome to the API.");
    }
}

Step 2: What happens here?
The route /api/greet listens for GET requests.
When a client sends a GET request to this route, the server executes the logic inside GetGreeting().
The logic simply returns the string "Hello! Welcome to the API." with a 200 OK status.
The client receives this message as the response.

Step 3: How a client calls this API?
A browser or tool like Postman or fetch in JavaScript calls:
ğŸ‘‡ Code:
GET https://yourserver/api/greet

The server responds with:
HTTP 200 OK
"Hello! Welcome to the API."

-Full Picture in Simple Words:
| API Component | Explanation                                                   |
| ------------- | ------------------------------------------------------------- |
| Route         | `/api/greet` â€” the URL clients call                           |
| HTTP Method   | GET â€” type of request                                         |
| Logic         | The method `GetGreeting()` runs and returns a greeting string |
| Response      | The server sends back "Hello! Welcome to the API."            |



Real-world analogy:
Think of an API as a restaurant menu:
The menu lists dishes you can order.
You don't know exactly how the kitchen prepares the food.
You simply order using the menu.
The kitchen prepares the food and serves it to you.
Similarly, an API exposes certain "functions" or "endpoints" that you can use without knowing the inner workings of the server or service

What is API Integration?
API Integration is the process of connecting your application with an external service/application via its API to exchange data or invoke functionality.
This allows your application to use external services (like payment gateways, social logins, weather data, maps, messaging, etc.).
It automates workflows and enhances your app without building everything from scratch.

ğŸŒ Types of APIs
Web API: Accessible over HTTP, commonly RESTful APIs using JSON.
Library API: Interfaces for code libraries.
Operating System APIs: Like Windows API.
Hardware APIs: For interacting with devices.

âœ…[#2] API APPLICAION EXAMPLE

ğŸ“ŒExample: Build a Simple ASP.NET Core Web API
Scenario: A simple API to manage a list of "Books"

Step 1: Create a new ASP.NET Core Web API Project
Use Visual Studio or CLI:
ğŸ‘‡ Code:
dotnet new webapi -n BookApi
cd BookApi

Step 2: Define the Book Model (Book.cs)
ğŸ‘‡ Code:
public class Book
{
    public int Id { get; set; }
    public string Title { get; set; }
    public string Author { get; set; }
}


Step 3: Create a Controller (BooksController.cs)
ğŸ‘‡ Code:
using Microsoft.AspNetCore.Mvc;
using System.Collections.Generic;
using System.Linq;

namespace BookApi.Controllers
{
    [ApiController]
    [Route("api/[controller]")]
    public class BooksController : ControllerBase
    {
        // In-memory list of books (simulate a database)
        private static List<Book> books = new List<Book>
        {
            new Book{ Id=1, Title="1984", Author="George Orwell" },
            new Book{ Id=2, Title="The Hobbit", Author="J.R.R. Tolkien" }
        };

        // GET api/books
        [HttpGet]
        public ActionResult<IEnumerable<Book>> Get()
        {
            return books;
        }

        // GET api/books/1
        [HttpGet("{id}")]
        public ActionResult<Book> Get(int id)
        {
            var book = books.FirstOrDefault(b => b.Id == id);
            if (book == null)
                return NotFound();
            return book;
        }

        // POST api/books
        [HttpPost]
        public ActionResult<Book> Post([FromBody] Book newBook)
        {
            newBook.Id = books.Max(b => b.Id) + 1;
            books.Add(newBook);
            return CreatedAtAction(nameof(Get), new { id = newBook.Id }, newBook);
        }

        // PUT api/books/1
        [HttpPut("{id}")]
        public IActionResult Put(int id, [FromBody] Book updatedBook)
        {
            var book = books.FirstOrDefault(b => b.Id == id);
            if (book == null)
                return NotFound();

            book.Title = updatedBook.Title;
            book.Author = updatedBook.Author;

            return NoContent();
        }

        // DELETE api/books/1
        [HttpDelete("{id}")]
        public IActionResult Delete(int id)
        {
            var book = books.FirstOrDefault(b => b.Id == id);
            if (book == null)
                return NotFound();

            books.Remove(book);
            return NoContent();
        }
    }
}

Step 4: Run the API
Run the project (dotnet run or F5 in Visual Studio).
The API is available at https://localhost:5001/api/books.

ğŸ›  How to Use the API (Example Requests)
| HTTP Method | URL            | Description             | Request Body Example                                    |
| ----------- | -------------- | ----------------------- | ------------------------------------------------------- |
| GET         | `/api/books`   | Get all books           | None                                                    |
| GET         | `/api/books/1` | Get book with ID = 1    | None                                                    |
| POST        | `/api/books`   | Add a new book          | `{ "Title": "Dune", "Author": "Frank Herbert" }`        |
| PUT         | `/api/books/1` | Update book with ID = 1 | `{ "Title": "Animal Farm", "Author": "George Orwell" }` |
| DELETE      | `/api/books/1` | Delete book with ID = 1 | None                                                    |


ğŸ§© What Happens Inside the API?
Routing: [Route("api/[controller]")] defines the base URL (e.g., api/books).
HTTP Methods: [HttpGet], [HttpPost], etc. define which method responds to which HTTP request.
Model Binding: [FromBody] automatically maps JSON request data to C# objects.
Action Results: Return HTTP status codes and data (200 OK, 404 NotFound, 201 Created).


âœ…[#2] API INTEGRATION

ğŸ“ŒWhat is API Integration?
API Integration is the process of connecting your application with an external service/application via its API to exchange data or invoke functionality.
This allows your application to use external services (like payment gateways, social logins, weather data, maps, messaging, etc.).
It automates workflows and enhances your app without building everything from scratch.

ğŸ“ŒEXAMPLE: Weather App with API Integration â€” Full Project Example
Detailed Example of API and API Integration
Scenario:
You want to build a simple web app that displays the current weather for a given city. Instead of building your own weather database, you use a weather API provided by a third-party service (like OpenWeatherMap).

ğŸ“ŒUnderstand the Weather API
The Weather API exposes endpoints/URL like
ğŸ‘‡ Code:
GET https://api.openweathermap.org/data/2.5/weather?q={cityName}&appid={yourAPIKey}
//You send a GET request with the city name and your API key.
//It returns weather data (temperature, humidity, conditions, etc.) in JSON format.

ğŸ—‚:Folder Structure
WeatherApp/
â”œâ”€â”€ Controllers/
â”‚   â””â”€â”€ WeatherController.cs
â”œâ”€â”€ Models/
â”‚   â””â”€â”€ WeatherViewModel.cs
â”œâ”€â”€ Views/
â”‚   â””â”€â”€ Weather/
â”‚       â””â”€â”€ Index.cshtml
â”œâ”€â”€ Web.config
â”œâ”€â”€ Global.asax
â”œâ”€â”€ BundlesConfig.cs (optional)
â””â”€â”€ Scripts/
    â””â”€â”€ jquery-3.6.0.min.js


ğŸ—‚1. Model â€” WeatherViewModel.cs
Create a simple ViewModel to hold the weather data from the API:
ğŸ‘‡ Code:
// Models/WeatherViewModel.cs

namespace WeatherApp.Models
{
    public class WeatherViewModel
    {
        public string City { get; set; }
        public float Temperature { get; set; }
        public string Condition { get; set; }
        public string ErrorMessage { get; set; }
    }
}


ğŸ—‚2. Controller â€” WeatherController.cs
This controller will:
Show the form to enter the city.
Call the OpenWeatherMap API.
Parse JSON response.
Pass data to the View.
ğŸ‘‡ Code:
// Controllers/WeatherController.cs

using System;
using System.Net.Http;
using System.Threading.Tasks;
using System.Web.Mvc;
using Newtonsoft.Json.Linq; // Install-Package Newtonsoft.Json
using WeatherApp.Models;

namespace WeatherApp.Controllers
{
    public class WeatherController : Controller
    {
        // GET: Weather
        public ActionResult Index()
        {
            // Display empty form initially
            return View(new WeatherViewModel());
        }

        // POST: Weather/GetWeather
        [HttpPost]
        public async Task<ActionResult> GetWeather(string city)
        {
            var model = new WeatherViewModel();

            if (string.IsNullOrEmpty(city))
            {
                model.ErrorMessage = "Please enter a city name.";
                return View("Index", model);
            }

            try
            {
                // Your API Key from OpenWeatherMap (sign up to get one)
                string apiKey = "YOUR_OPENWEATHERMAP_API_KEY";

                // Build API URL
                string url = $"https://api.openweathermap.org/data/2.5/weather?q={city}&appid={apiKey}&units=metric";

                using (HttpClient client = new HttpClient())
                {
                    // Send GET request to the API
                    HttpResponseMessage response = await client.GetAsync(url);

                    if (response.IsSuccessStatusCode)
                    {
                        // Read JSON content from response
                        string json = await response.Content.ReadAsStringAsync();

                        // Parse JSON using Newtonsoft.Json
                        JObject data = JObject.Parse(json);

                        model.City = city;
                        model.Temperature = data["main"]["temp"].Value<float>();
                        model.Condition = data["weather"][0]["description"].Value<string>();
                    }
                    else
                    {
                        model.ErrorMessage = "City not found or API error.";
                    }
                }
            }
            catch (Exception ex)
            {
                model.ErrorMessage = "Error: " + ex.Message;
            }

            // Return view with weather data or error message
            return View("Index", model);
        }
    }
}


ğŸ—‚3. View â€” Index.cshtml
This view displays:
Input form for city.
Weather result or error message.
ğŸ‘‡ Code:
@model WeatherApp.Models.WeatherViewModel

@{
    ViewBag.Title = "Weather App";
}

<h2>Simple Weather App</h2>

<!-- Weather Form -->
<form action="@Url.Action("GetWeather", "Weather")" method="post">
    <label for="city">Enter City Name:</label>
    <input type="text" id="city" name="city" value="@Model.City" />
    <button type="submit">Get Weather</button>
</form>

<hr />

<!-- Display Results -->
@if (!string.IsNullOrEmpty(Model.ErrorMessage))
{
    <p style="color:red">@Model.ErrorMessage</p>
}
else if (!string.IsNullOrEmpty(Model.City))
{
    <p>
        Weather in <strong>@Model.City</strong>: <br />
        Temperature: <strong>@Model.Temperature &deg;C</strong><br />
        Condition: <strong>@Model.Condition</strong>
    </p>
}



ğŸ—‚4. Web.config
Make sure your web.config allows async calls (default is fine).

ğŸ—‚5. Global.asax
Basic MVC Application start:
ğŸ‘‡ Code:
using System.Web.Mvc;
using System.Web.Routing;

namespace WeatherApp
{
    public class MvcApplication : System.Web.HttpApplication
    {
        protected void Application_Start()
        {
            AreaRegistration.RegisterAllAreas();
            RouteConfig.RegisterRoutes(RouteTable.Routes);
        }
    }
}


ğŸ—‚6. RouteConfig.cs (Default MVC Routing)
ğŸ‘‡ Code:
using System.Web.Mvc;
using System.Web.Routing;

namespace WeatherApp
{
    public class RouteConfig
    {
        public static void RegisterRoutes(RouteCollection routes)
        {
            routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

            routes.MapRoute(
                name: "Default",
                url: "{controller}/{action}/{id}",
                defaults: new { controller = "Weather", action = "Index", id = UrlParameter.Optional }
            );
        }s
    }
}

ğŸ“Œ. Notes
You must replace "YOUR_OPENWEATHERMAP_API_KEY" with your actual API key from https://openweathermap.org/api
The app uses HttpClient to call the REST API asynchronously.
Newtonsoft.Json is used to parse JSON (add via NuGet).
User submits city via form; the controller fetches weather and returns the same view with data.
No client-side JavaScript needed here, but you can enhance it with AJAX if you want.


Summary:
User opens /Weather/Index
Enters city and submits form
Controller calls OpenWeatherMap API
Parses JSON data for temperature and weather condition
Displays result or error on the page
